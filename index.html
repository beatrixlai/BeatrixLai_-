<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å…¨æ–¹ä½æˆ€æ„›é‹å‹¢ç«™ï¼šæœˆè€ãƒ»å¡”ç¾…ãƒ»éˆæ•¸ãƒ»åˆç›¤ãƒ»ç´«å¾®</title>
    
    <!-- 1. å¼•å…¥ Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- 2. å¼•å…¥ React å’Œ Babel -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- 3. è‡ªå®šç¾©å‹•ç•«æ¨£å¼èˆ‡å­—é«” -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Kalam:wght@400;700&display=swap');
        
        body { font-family: 'Helvetica Neue', Arial, 'Noto Serif TC', sans-serif; }
        .handwritten { font-family: 'Kalam', 'cursive', sans-serif; }
        
        @keyframes shake {
            0% { transform: translate(1px, 1px) rotate(0deg); }
            10% { transform: translate(-1px, -2px) rotate(-1deg); }
            20% { transform: translate(-3px, 0px) rotate(1deg); }
            30% { transform: translate(3px, 2px) rotate(0deg); }
            40% { transform: translate(1px, -1px) rotate(1deg); }
            50% { transform: translate(-1px, 2px) rotate(-1deg); }
            60% { transform: translate(-3px, 1px) rotate(0deg); }
            70% { transform: translate(3px, 1px) rotate(-1deg); }
            80% { transform: translate(-1px, -1px) rotate(1deg); }
            90% { transform: translate(1px, 2px) rotate(0deg); }
            100% { transform: translate(1px, -2px) rotate(-1deg); }
        }
        .shake-animation { animation: shake 0.5s infinite; }
        
        .perspective-1000 { perspective: 1000px; }
        .transform-style-3d { transform-style: preserve-3d; }
        .backface-hidden { backface-visibility: hidden; }
        .rotate-y-180 { transform: rotateY(180deg); }

        .animate-fade-in { animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="bg-stone-100 min-h-screen">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- 0. åœ–ç¤ºåº« (SVG) ---
        // åŸºæœ¬åœ–ç¤º
        const Icons = {
            Zap: () => <svg className="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>,
            RotateCcw: () => <svg className="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/></svg>,
            Scissors: () => <svg className="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="6" cy="6" r="3"/><circle cx="6" cy="18" r="3"/><line x1="20" y1="4" x2="8.12" y2="15.88"/><line x1="14.47" y1="14.48" x2="20" y2="20"/><line x1="8.12" y1="8.12" x2="12" y2="12"/></svg>,
            Heart: () => <svg className="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>,
            Compass: () => <svg className="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="12" cy="12" r="10"/><polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"/></svg>,
            MapPin: () => <svg className="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>,
            Sparkles: () => <svg className="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/></svg>,
            Cards: () => <svg className="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="6" y="2" width="12" height="20" rx="2"></rect><line x1="6" y1="12" x2="18" y2="12"></line></svg>,
            Hash: () => <svg className="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="4" y1="9" x2="20" y2="9"></line><line x1="4" y1="15" x2="20" y2="15"></line><line x1="10" y1="3" x2="8" y2="21"></line><line x1="16" y1="3" x2="14" y2="21"></line></svg>,
            Navigation: () => <svg className="w-3 h-3" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polygon points="3 11 22 2 13 21 11 13 3 11"/></svg>,
            Locate: () => <svg className="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>,
            Scroll: () => <svg className="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M8 17.5a5 5 0 0 1 2.5-9 2.5 2.5 0 0 1 2.5 9 5 5 0 0 0 2.5 9 2.5 2.5 0 0 0 2.5-9"/><path d="M19 17.5a2.5 2.5 0 0 0-5 0"/><path d="M10 2.5a2.5 2.5 0 0 0-5 0v15a2.5 2.5 0 0 0 5 0Z"/></svg>,
            Users: () => <svg className="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>,
            Moon: () => <svg className="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>,
            Star: () => <svg className="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>,
            YinYang: () => <svg className="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="12" cy="12" r="10"/><path d="M12 2a5 5 0 0 0 5 5 5 5 0 0 1 5 5"/><path d="M12 22a5 5 0 0 0-5-5 5 5 0 0 1-5-5"/><circle cx="12" cy="7" r="1" fill="currentColor"/><circle cx="12" cy="17" r="1" fill="currentColor"/></svg>,
            Feather: () => <svg className="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"></path><line x1="16" y1="8" x2="2" y2="22"></line><line x1="17.5" y1="15" x2="9" y2="15"></line></svg>,
            Hexagon: () => <svg className="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path></svg>,
            
            // --- NEW: Qç‰ˆæ‰‹ç¹ªé¢¨æ’åœ– (ç½®é ‚ä¸”å¯æ„›åŒ–) ---
            
            // 1. Qç‰ˆå»Ÿå®‡ (Temple): åœ“æ½¤çš„å±‹é ‚ï¼Œåƒä¸€å€‹å¯æ„›çš„å°æˆ¿å­
            TempleIllustration: () => (
                <svg className="w-full h-full text-red-400" viewBox="0 0 100 100" fill="currentColor" opacity="0.3">
                    {/* åœ“æ½¤çš„å±‹é ‚ */}
                    <path d="M10 45 Q 50 5 90 45" stroke="currentColor" strokeWidth="8" strokeLinecap="round" fill="none" />
                    {/* èƒ–èƒ–çš„æŸ±å­å’Œç‰†å£ */}
                    <rect x="25" y="45" width="50" height="45" rx="5" ry="5" fill="currentColor" opacity="0.5" />
                    <rect x="20" y="45" width="8" height="45" rx="4" fill="currentColor" />
                    <rect x="72" y="45" width="8" height="45" rx="4" fill="currentColor" />
                    {/* åœ“åœ“çš„é–€ */}
                    <path d="M40 90 L40 65 Q50 55 60 65 L60 90 Z" fill="white" opacity="0.8" />
                </svg>
            ),

            // 2. Qç‰ˆéˆç±¤ (Fortune): åœ“æ»¾æ»¾çš„ç±¤ç­’ï¼Œæ™ƒå‡ºå¹¾æ ¹ç±¤
            FortuneIllustration: () => (
                <svg className="w-full h-full text-purple-400" viewBox="0 0 100 100" fill="currentColor" opacity="0.3">
                    {/* ç±¤ */}
                    <line x1="40" y1="40" x2="30" y2="10" stroke="currentColor" strokeWidth="6" strokeLinecap="round" />
                    <line x1="50" y1="40" x2="50" y2="5" stroke="currentColor" strokeWidth="6" strokeLinecap="round" />
                    <line x1="60" y1="40" x2="70" y2="10" stroke="currentColor" strokeWidth="6" strokeLinecap="round" />
                    {/* åœ“èƒ–çš„ç±¤ç­’ */}
                    <path d="M25 40 L30 85 Q50 100 70 85 L75 40 Q50 55 25 40 Z" fill="currentColor" opacity="0.6" stroke="currentColor" strokeWidth="4" strokeLinejoin="round" />
                    {/* è£é£¾æ¨™ç±¤ */}
                    <circle cx="50" cy="65" r="12" fill="white" opacity="0.8" />
                    <text x="50" y="70" fontSize="10" textAnchor="middle" fill="currentColor" className="font-bold">å‰</text>
                </svg>
            ),

            // 3. Qç‰ˆæ˜Ÿæ˜Ÿ (Ziwei): èƒ–èƒ–çš„æ˜Ÿæ˜Ÿï¼Œé‚„æœ‰è¡¨æƒ…
            ZiweiIllustration: () => (
                <svg className="w-full h-full text-indigo-400" viewBox="0 0 100 100" fill="currentColor" opacity="0.4">
                    {/* å¤§æ˜Ÿæ˜Ÿ */}
                    <path d="M50 15 Q58 35 75 35 Q58 45 65 65 Q45 55 30 65 Q38 45 20 35 Q42 35 50 15 Z" stroke="currentColor" strokeWidth="3" strokeLinejoin="round" fill="none" transform="translate(5, 5)" />
                    {/* çœ¼ç› */}
                    <circle cx="45" cy="45" r="3" fill="currentColor" />
                    <circle cx="60" cy="45" r="3" fill="currentColor" />
                    {/* å°æ˜Ÿæ˜Ÿè£é£¾ */}
                    <circle cx="80" cy="20" r="4" fill="currentColor" />
                    <circle cx="20" cy="80" r="4" fill="currentColor" />
                    <circle cx="85" cy="80" r="3" fill="currentColor" />
                </svg>
            ),

            // 4. Qç‰ˆæ„›å¿ƒ (Match): å…©å€‹åœ“æ½¤çš„æ„›å¿ƒé åœ¨ä¸€èµ·
            MatchIllustration: () => (
                <svg className="w-full h-full text-pink-400" viewBox="0 0 100 100" fill="currentColor" opacity="0.4">
                    {/* å·¦é‚Šæ„›å¿ƒ */}
                    <path d="M50 80 C20 60 5 45 25 25 C40 10 50 35 50 35" stroke="currentColor" strokeWidth="6" strokeLinecap="round" strokeLinejoin="round" fill="none" />
                    {/* å³é‚Šæ„›å¿ƒ */}
                    <path d="M50 35 C50 35 60 10 75 25 C95 45 80 60 50 80" stroke="currentColor" strokeWidth="6" strokeLinecap="round" strokeLinejoin="round" fill="none" />
                    {/* é–ƒäº®é» */}
                    <circle cx="75" cy="25" r="4" fill="white" opacity="0.8" />
                    <circle cx="25" cy="25" r="4" fill="white" opacity="0.8" />
                </svg>
            )
        };

        const StickyNote = ({ children, className = "", color = "bg-yellow-100", border = "border-yellow-200" }) => (
            <div className={`relative ${color} text-stone-700 p-3 text-sm leading-relaxed shadow-lg border-b-4 border-r-2 ${border} transform -rotate-1 mx-1 my-3 handwritten rounded-sm z-20 ${className}`}>
                <div className="absolute -top-3 left-1/2 -translate-x-1/2 w-4 h-8 bg-white/40 rotate-90 blur-[1px]"></div>
                <span className="font-bold opacity-80 block mb-1 text-base">ğŸ“Œ å°æç¤ºï¼š</span>
                {children}
            </div>
        );

        // --- è³‡æ–™åº« (ç•¥ï¼Œä¿æŒä¸è®Š) ---
        const TEMPLE_DATA = [
            { id: 1, title: "æ±‚æ­£ç·£", subtitle: "å–®èº«æƒ³å©šã€éœ€è¦æ¨éŠ·", icon: <Icons.Zap className="text-red-600"/>, color: "bg-red-50", borderColor: "border-red-200", temples: [{ name: "å°åŒ—éœæµ·åŸéšå»Ÿ", tag: "æ•ˆç‡ç‹", desc: "ä¸æ±‚ç±¤ã€å¿«ç‹ æº–", lat: 25.0556, lng: 121.5100 }, { name: "å°å—å¤§è§€éŸ³äº­", tag: "é—Šå˜´æœˆè€", desc: "æœˆè€å–„èªªåª’", lat: 22.9982, lng: 120.2030 }, { name: "é«˜é›„é—œå¸å»Ÿ", tag: "ç²¾æº–é…å°", desc: "å¡«ç–æ–‡åƒéå±¥æ­·", lat: 22.6288, lng: 120.3340 }, { name: "å®œè˜­å››çµç¦å¾·å»Ÿ", tag: "æœ€å¤§é‡‘èº«", desc: "æ•²ç´…é¸å¿ƒå‹•é˜", lat: 24.6974, lng: 121.7745 }] },
            { id: 2, title: "æ±‚å¾©åˆ", subtitle: "åˆ†æ‰‹æŒ½å›ã€åµæ¶å’Œå¥½", icon: <Icons.RotateCcw className="text-blue-600"/>, color: "bg-blue-50", borderColor: "border-blue-200", temples: [{ name: "å°ä¸­æ¨‚æˆå®®", tag: "å¾©åˆè–åœ°", desc: "ç±¤è©©åˆ†é¡è¶…ç´°è†©", lat: 24.1368, lng: 120.6973 }, { name: "å°å—é‡æ…¶å¯º", tag: "æ”ªé†‹çŸ¸", desc: "é€†æ™‚é˜æ”ªé†‹èƒ½å›é ­", lat: 22.9912, lng: 120.2036 }] },
            { id: 3, title: "æ–¬çˆ›æ¡ƒèŠ±", subtitle: "é‡äººä¸æ·‘ã€æ–·é–‹å­½ç·£", icon: <Icons.Scissors className="text-gray-700"/>, color: "bg-gray-100", borderColor: "border-gray-300", temples: [{ name: "å°å—ç¥€å…¸æ­¦å»Ÿ", tag: "æ‹æ–æœˆè€", desc: "æ‰“è·‘æ¸£ç”·å°ä¸‰", lat: 22.9964, lng: 120.2030 }, { name: "è‰‹èˆºé¾å±±å¯º", tag: "åš´æ ¼å¯©æ ¸", desc: "ä¸‰æ¬¡è–ç­Šæ‰çµ¦ç·š", lat: 25.0371, lng: 121.4999 }] },
            { id: 4, title: "æ„Ÿæƒ…åŠ æº«", subtitle: "çªç ´æ›–æ˜§ã€ç¥ˆæ±‚ç©©å®š", icon: <Icons.Heart className="text-pink-500"/>, color: "bg-pink-50", borderColor: "border-pink-200", temples: [{ name: "å°å—å¤§å¤©åå®®", tag: "ç·£ç²‰åŠ æŒ", desc: "é»è‡‰é °å¢é­…åŠ›", lat: 22.9962, lng: 120.2018 }, { name: "é¹¿æ¸¯å¤©åå®®", tag: "é©åˆæƒ…ä¾¶", desc: "é©åˆæƒ…ä¾¶æ±‚ç©©å®š", lat: 24.0569, lng: 120.4346 }] },
            { id: 5, title: "æŒ‡é»è¿·æ´¥", subtitle: "ä¸çŸ¥æ–¹å‘ã€é©ä¸é©åˆ", icon: <Icons.Compass className="text-purple-600"/>, color: "bg-purple-50", borderColor: "border-purple-200", temples: [{ name: "æ—¥æœˆæ½­é¾é³³å®®", tag: "ç¥æº–ç±¤è©©", desc: "ä¸€é‡è¦‹è¡€è§£è¿·æƒ˜", lat: 23.8710, lng: 120.9080 }, { name: "æ¿æ©‹æ…ˆæƒ å®®", tag: "å…¨æ–¹ä½", desc: "æ„Ÿæƒ…å·¥ä½œä¸€èµ·å•", lat: 25.0089, lng: 121.4578 }] }
        ];
        const FORTUNE_STICKS = [
            { label: "å¤§å‰", title: "ç´…é¸æ˜Ÿå‹•", text: "ä»Šæ—¥é­…åŠ›çˆ†æ£šï¼Œè½‰è§’é‡åˆ°æ„›çš„æ©Ÿç‡æ¥µé«˜ï¼", color: "text-red-600", bg: "bg-red-50" },
            { label: "ä¸Šå‰", title: "å¿ƒæœ‰éˆçŠ€", text: "è©¦è‘—ä¸»å‹•å‚³å€‹è¨Šæ¯ï¼Œæœƒæœ‰æ„æƒ³ä¸åˆ°çš„ç”œèœœå›æ‡‰ã€‚", color: "text-pink-600", bg: "bg-pink-50" },
            { label: "ä¸­å‰", title: "æ›–æ˜§å‡æº«", text: "è‹¥å³è‹¥é›¢çš„è·é›¢æœ€ç¾ï¼Œä¿æŒç¥ç§˜æ„Ÿè®“å°æ–¹å¥½å¥‡ã€‚", color: "text-purple-600", bg: "bg-purple-50" },
            { label: "å°å‰", title: "å¹³æ·¡æ˜¯ç¦", text: "åˆ¥å¤ªæ€¥èºï¼Œäº«å—ä¸€å€‹äººçš„è‡ªåœ¨ï¼Œç·£åˆ†æ­£åœ¨é†é‡€ä¸­ã€‚", color: "text-blue-600", bg: "bg-blue-50" },
            { label: "å¹³ç±¤", title: "æ²‰æ¾±è‡ªæˆ‘", text: "èˆ‡å…¶å‘å¤–å°‹æ±‚ï¼Œä¸å¦‚å…ˆæ„›è‡ªå·±ã€‚ä»Šæ—¥é©åˆé–±è®€é‹å‹•ã€‚", color: "text-stone-600", bg: "bg-stone-100" },
        ];
        const TAROT_CARDS = [
            { name: "æ„šè€…", image: "ğŸƒ", keywords: "æ–°çš„é–‹å§‹ã€å†’éšª", advice: "ä¸è¦å®³æ€•è¸å‡ºç¬¬ä¸€æ­¥ï¼Œæ„›æƒ…éœ€è¦ä¸€é»è¡å‹•ã€‚", reversed: false },
            { name: "æˆ€äºº", image: "ğŸ’•", keywords: "é¸æ“‡ã€å’Œè«§", advice: "å‚¾è½å…§å¿ƒçš„è²éŸ³ï¼Œé€™æ˜¯ä¸€æ®µå€¼å¾—æŠ•å…¥çš„é—œä¿‚ã€‚", reversed: false },
            { name: "åŠ›é‡", image: "ğŸ¦", keywords: "å‹‡æ°£ã€åŒ…å®¹", advice: "ä»¥æŸ”å…‹å‰›ï¼Œå±•ç¾ä½ çš„è€å¿ƒèˆ‡æº«æŸ”ã€‚", reversed: false },
            { name: "å‘½é‹ä¹‹è¼ª", image: "ğŸ¡", keywords: "è½‰è®Šã€æ™‚æ©Ÿ", advice: "ç·£åˆ†ä¾†äº†æ“‹ä¸ä½ï¼Œé †å…¶è‡ªç„¶æ¥å—è®ŠåŒ–ã€‚", reversed: false },
            { name: "æ˜Ÿæ˜Ÿ", image: "âœ¨", keywords: "å¸Œæœ›ã€ç™‚ç™’", advice: "ä¿æŒæ¨‚è§€ï¼Œæœªä¾†çš„è—åœ–æ­£åœ¨æ…¢æ…¢å¯¦ç¾ã€‚", reversed: false },
            { name: "å¤ªé™½", image: "ğŸŒ", keywords: "å¿«æ¨‚ã€æˆåŠŸ", advice: "å±•ç¾ä½ é™½å…‰çš„ä¸€é¢ï¼Œä½ çš„ç¬‘å®¹å°±æ˜¯æœ€å¼·çš„æ­¦å™¨ã€‚", reversed: false },
        ];
        const NUMEROLOGY_DATA = {
            1: { title: "é–‹å‰µå‹", desc: "ä¸»è§€æ„è­˜å¼·ï¼Œå–œæ­¡ä¸»å°ã€‚é©åˆèƒ½æ¬£è³ä½ æ‰è¯çš„ä¼´ä¾¶ã€‚" },
            2: { title: "ä¾è³´å‹", desc: "æ•æ„Ÿç´°è†©ï¼Œé‡è¦–é™ªä¼´ã€‚éœ€è¦ä¸€å€‹èƒ½æä¾›å®‰å…¨æ„Ÿçš„å°è±¡ã€‚" },
            3: { title: "ç†æƒ³å‹", desc: "åƒå€‹å­©å­èˆ¬å……æ»¿å¥½å¥‡ã€‚æ„›æƒ…å°ä½ ä¾†èªªå¿…é ˆæ˜¯æœ‰è¶£çš„ã€‚" },
            4: { title: "ç©©å®šå‹", desc: "å‹™å¯¦è² è²¬ï¼Œè¿½æ±‚å®‰å®šã€‚å¿ èª æ˜¯ä½ æœ€å¤§çš„å„ªé»ã€‚" },
            5: { title: "è‡ªç”±å‹", desc: "ç†±æ„›è‡ªç”±ï¼Œè¨å­æŸç¸›ã€‚ä½ éœ€è¦å¿ƒéˆå¥‘åˆçš„ä¼´ä¾¶ã€‚" },
            6: { title: "å¥‰ç»å‹", desc: "éå¸¸æœ‰æ„›å¿ƒï¼Œå–œæ­¡ç…§é¡§äººã€‚ä½†è¦å°å¿ƒä¸è¦å¤±å»è‡ªæˆ‘ã€‚" },
            7: { title: "ç²¾ç¥å‹", desc: "é‡è¦–ç²¾ç¥äº¤æµã€‚ä½ éœ€è¦ä¸€å€‹æ‡‚ä½ æ²ˆé»˜ä¸”æœ‰æ™ºæ…§çš„å°è±¡ã€‚" },
            8: { title: "é ˜è¢–å‹", desc: "æ¸´æœ›æŒæ§ï¼Œå°æ„Ÿæƒ…æœ‰é‡å¿ƒã€‚é©åˆå‹¢å‡åŠ›æ•µçš„å¼·è€…ã€‚" },
            9: { title: "åšæ„›å‹", desc: "æµªæ¼«ä¸”å……æ»¿å¤¢æƒ³ã€‚ä½ éœ€è¦ä¸€å€‹èƒ½æ”¯æŒä½ ç†æƒ³çš„éˆé­‚ä¼´ä¾¶ã€‚" },
        };
        const ZIWEI_STARS = {
            "ç´«å¾®": { type: "å¸ç‹æ˜Ÿ", character: "å°Šè²´ã€é ˜å°ã€æ¬Šå¨", love: "çœ¼å…‰é«˜ï¼Œå–œæ­¡æœ‰èƒ½åŠ›ã€èƒ½è®“è‡ªå·±å´‡æ‹œçš„å°è±¡ã€‚", desc: "æ‚¨æ˜¯å¤©ç”Ÿçš„é ˜å°è€…ï¼Œæ°£å ´å¼·å¤§ï¼Œåœ¨æ„Ÿæƒ…ä¸­ç¿’æ…£æŒæ¡ä¸»å°æ¬Šï¼Œéœ€è¦å¦ä¸€åŠçš„å°Šé‡èˆ‡æœå¾ã€‚" },
            "å¤©æ©Ÿ": { type: "æ™ºæ…§æ˜Ÿ", character: "æ©Ÿæ™ºã€å¤šè®Šã€å–„è‰¯", love: "å–œæ­¡è°æ˜ã€æœ‰æ‰è¯ã€èƒ½ä¸€èµ·å‹•è…¦çš„å°è±¡ã€‚", desc: "æ‚¨é ­è…¦éˆæ´»ï¼Œå–„æ–¼åˆ†æï¼Œåœ¨æ„Ÿæƒ…ä¸­å®¹æ˜“æƒ³å¤ªå¤šè€Œæ‚£å¾—æ‚£å¤±ï¼Œéœ€è¦ä¸€ä½èƒ½å®‰æ’«æ‚¨æ€ç·’çš„ä¼´ä¾¶ã€‚" },
            "å¤ªé™½": { type: "åšæ„›æ˜Ÿ", character: "ç†±æƒ…ã€è±ªçˆ½ã€å¥‰ç»", love: "å–œæ­¡é™½å…‰ã€é–‹æœ—ã€å¤§æ–¹ä¸è¨ˆè¼ƒçš„å°è±¡ã€‚", desc: "æ‚¨åƒå¤ªé™½ä¸€æ¨£ç…§è€€ä»–äººï¼Œç†±å¿ƒåŠ©äººï¼Œåœ¨æ„Ÿæƒ…ä¸­é¡˜æ„ä»˜å‡ºï¼Œä½†ä¹Ÿå¸Œæœ›å°æ–¹èƒ½çœ‹è¦‹æ‚¨çš„å¥½ã€‚" },
            "æ­¦æ›²": { type: "è²¡å¯Œæ˜Ÿ", character: "å‰›æ¯…ã€å‹™å¯¦ã€æœæ–·", love: "å–œæ­¡ç¨ç«‹ã€æœ‰ç¶“æ¿ŸåŸºç¤ã€ä¸é»äººçš„å°è±¡ã€‚", desc: "æ‚¨å€‹æ€§å‰›ç›´ï¼Œä¸å–„è¨€è©ï¼Œåœ¨æ„Ÿæƒ…ä¸­æ¯”è¼ƒå‹™å¯¦ï¼Œèªç‚ºå¯¦éš›çš„ç…§é¡§æ¯”ç”œè¨€èœœèªæ›´é‡è¦ã€‚" },
            "å¤©åŒ": { type: "ç¦æ°£æ˜Ÿ", character: "æº«é †ã€æ…µæ‡¶ã€æ¨‚å¤©", love: "å–œæ­¡æº«æŸ”ã€é«”è²¼ã€èƒ½ç…§é¡§ç”Ÿæ´»çš„å°è±¡ã€‚", desc: "æ‚¨å€‹æ€§éš¨å’Œï¼ŒçŸ¥è¶³å¸¸æ¨‚ï¼Œåœ¨æ„Ÿæƒ…ä¸­æ¯”è¼ƒè¢«å‹•ï¼Œåƒå€‹å­©å­ä¸€æ¨£éœ€è¦è¢«å‘µè­·èˆ‡ç–¼æ„›ã€‚" },
            "å»‰è²": { type: "æ¬¡æ¡ƒèŠ±", character: "å…¬é—œã€åŸ·è‘—ã€å¼·å‹¢", love: "å–œæ­¡æœ‰å€‹æ€§ã€å¤–è¡¨å‡ºçœ¾ã€å¸¶é»ç¥ç§˜æ„Ÿçš„å°è±¡ã€‚", desc: "æ‚¨èƒ½è¨€å–„é“ï¼Œäº¤éš›æ‰‹è…•é«˜ï¼Œåœ¨æ„Ÿæƒ…ä¸­æ„›æ¨åˆ†æ˜ï¼Œä½”æœ‰æ…¾å¼·ï¼Œä¸€æ—¦æ„›ä¸Šå°±æœƒå…¨å¿ƒæŠ•å…¥ã€‚" },
            "å¤©åºœ": { type: "åº«è—æ˜Ÿ", character: "ç©©é‡ã€åŒ…å®¹ã€äº«å—", love: "å–œæ­¡ç©©é‡ã€æœ‰å“å‘³ã€èƒ½ä¸€èµ·äº«å—ç”Ÿæ´»çš„å°è±¡ã€‚", desc: "æ‚¨æ°£åº¦å¯¬å®ï¼Œåšäº‹ç©©å¥ï¼Œåœ¨æ„Ÿæƒ…ä¸­ç›¸ç•¶å‹™å¯¦ï¼Œé‡è¦–å°æ–¹çš„ç¶“æ¿Ÿèƒ½åŠ›èˆ‡ç”Ÿæ´»å“è³ªã€‚" },
            "å¤ªé™°": { type: "è²¡å¯Œæ˜Ÿ", character: "æº«æŸ”ã€ç´°è†©ã€æµªæ¼«", love: "å–œæ­¡æ–¯æ–‡ã€æœ‰æ°£è³ªã€æƒ…æ„Ÿè±å¯Œçš„å°è±¡ã€‚", desc: "æ‚¨å€‹æ€§æº«æŸ”å©‰ç´„ï¼Œå¿ƒæ€ç´°è†©ï¼Œåœ¨æ„Ÿæƒ…ä¸­éå¸¸æµªæ¼«ä¸”æ„Ÿæ€§ï¼Œæ¸´æœ›å¿ƒéˆå¥‘åˆçš„éˆé­‚ä¼´ä¾¶ã€‚" },
            "è²ªç‹¼": { type: "æ¡ƒèŠ±æ˜Ÿ", character: "å¤šè—ã€æ…¾æœ›ã€äº¤éš›", love: "å–œæ­¡é¢¨è¶£ã€å¤šæ‰å¤šè—ã€æ‡‚æƒ…è¶£çš„å°è±¡ã€‚", desc: "æ‚¨æ˜¯å¤©ç”Ÿçš„ç™¼é›»æ©Ÿï¼Œæ¡ƒèŠ±ç·£æ¥µä½³ï¼Œåœ¨æ„Ÿæƒ…ä¸­è¿½æ±‚æ–°é®®æ„Ÿèˆ‡æ¿€æƒ…ï¼Œè¨å­ä¸€æˆä¸è®Šçš„ç”Ÿæ´»ã€‚" },
            "å·¨é–€": { type: "æ˜¯éæ˜Ÿ", character: "å£æ‰ã€æ‡·ç–‘ã€ç ”ç©¶", love: "å–œæ­¡å£æ¢å¥½ã€æœ‰æƒ³æ³•ã€èƒ½æ·±åº¦æºé€šçš„å°è±¡ã€‚", desc: "æ‚¨è§€å¯ŸåŠ›æ•éŠ³ï¼Œå–„æ–¼è¾¯æ‰ï¼Œåœ¨æ„Ÿæƒ…ä¸­å®¹æ˜“å› ç‚ºè¨€èªçŠ€åˆ©è€Œç”¢ç”Ÿèª¤æœƒï¼Œéœ€è¦å¤šé»ä¿¡ä»»ã€‚" },
            "å¤©ç›¸": { type: "å°æ˜Ÿ", character: "å…¬æ­£ã€ç†±å¿ƒã€æ„›ç¾", love: "å–œæ­¡å¤–è¡¨ç«¯èŠã€ç©¿è‘—å¾—é«”ã€æœ‰ç¦®è²Œçš„å°è±¡ã€‚", desc: "æ‚¨é‡è¦–å½¢è±¡ï¼Œè«‡åå„ªé›…ï¼Œåœ¨æ„Ÿæƒ…ä¸­æ˜¯å¾ˆå¥½çš„è¼”ä½è€…ï¼Œé¡˜æ„ç‚ºäº†ç¶­æŒé—œä¿‚çš„å’Œè«§è€Œé€€è®“ã€‚" },
            "å¤©æ¢": { type: "è€äººæ˜Ÿ", character: "æ­£ç›´ã€ç…§é¡§ã€æ¸…é«˜", love: "å–œæ­¡æˆç†Ÿã€ç©©é‡ã€ç”šè‡³å¹´ç´€ç¨é•·çš„å°è±¡ã€‚", desc: "æ‚¨æœ‰è‘—è€éˆé­‚ï¼Œå–œæ­¡ç…§é¡§äººï¼Œåœ¨æ„Ÿæƒ…ä¸­åƒå€‹é•·è¼©ä¸€æ¨£å˜®å¨ä½†é—œå¿ƒï¼Œçµ¦äºˆå°æ–¹æ»¿æ»¿çš„å®‰å…¨æ„Ÿã€‚" },
            "ä¸ƒæ®º": { type: "å°‡è»æ˜Ÿ", character: "è¡å‹ã€ç¨ç«‹ã€åš´è‚…", love: "å–œæ­¡æœ‰å€‹æ€§ã€ä¸æœè¼¸ã€èƒ½ä¸€èµ·æ‰“æ‹¼çš„å°è±¡ã€‚", desc: "æ‚¨å€‹æ€§å‰›çƒˆï¼Œè¡Œå‹•åŠ›å¼·ï¼Œåœ¨æ„Ÿæƒ…ä¸­æ•¢æ„›æ•¢æ¨ï¼Œä¸å–œæ­¡æ‹–æ³¥å¸¶æ°´ï¼Œèªå®šäº†å°±æœƒå …æŒåˆ°åº•ã€‚" },
            "ç ´è»": { type: "è€—æ˜Ÿ", character: "ç ´å£ã€å‰µæ–°ã€è®Šå‹•", love: "å–œæ­¡ç¨ç‰¹ã€ä¸æŒ‰ç‰Œç†å‡ºç‰Œã€æœ‰æŒ‘æˆ°æ€§çš„å°è±¡ã€‚", desc: "æ‚¨æ±‚æ–°æ±‚è®Šï¼Œä¸å–œå—æŸç¸›ï¼Œåœ¨æ„Ÿæƒ…ä¸­èµ·ä¼è¼ƒå¤§ï¼Œå®¹æ˜“ä¸€è¦‹é¾æƒ…ï¼Œä¹Ÿå¯èƒ½å› ç‚ºç„¡èŠè€Œé›¢é–‹ã€‚" }
        };
        const ZODIAC_SIGNS = [
            { name: "æ‘©ç¾¯åº§", start: "12-22", element: "åœŸ", mode: "åŸºæœ¬" },
            { name: "æ°´ç“¶åº§", start: "01-20", element: "é¢¨", mode: "å›ºå®š" },
            { name: "é›™é­šåº§", start: "02-19", element: "æ°´", mode: "è®Šå‹•" },
            { name: "ç™½ç¾Šåº§", start: "03-21", element: "ç«", mode: "åŸºæœ¬" },
            { name: "é‡‘ç‰›åº§", start: "04-20", element: "åœŸ", mode: "å›ºå®š" },
            { name: "é›™å­åº§", start: "05-21", element: "é¢¨", mode: "è®Šå‹•" },
            { name: "å·¨èŸ¹åº§", start: "06-22", element: "æ°´", mode: "åŸºæœ¬" },
            { name: "ç…å­åº§", start: "07-23", element: "ç«", mode: "å›ºå®š" },
            { name: "è™•å¥³åº§", start: "08-23", element: "åœŸ", mode: "è®Šå‹•" },
            { name: "å¤©ç§¤åº§", start: "09-23", element: "é¢¨", mode: "åŸºæœ¬" },
            { name: "å¤©è åº§", start: "10-24", element: "æ°´", mode: "å›ºå®š" },
            { name: "å°„æ‰‹åº§", start: "11-23", element: "ç«", mode: "è®Šå‹•" },
        ];
        const HEAVENLY_STEMS = ["åºš", "è¾›", "å£¬", "ç™¸", "ç”²", "ä¹™", "ä¸™", "ä¸", "æˆŠ", "å·±"]; 
        const EARTHLY_BRANCHES = ["ç”³", "é…‰", "æˆŒ", "äº¥", "å­", "ä¸‘", "å¯…", "å¯", "è¾°", "å·³", "åˆ", "æœª"]; 
        const ANIMALS = ["çŒ´", "é›", "ç‹—", "è±¬", "é¼ ", "ç‰›", "è™", "å…”", "é¾", "è›‡", "é¦¬", "ç¾Š"];
        const FIVE_ELEMENTS = { "ç”²": "æœ¨", "ä¹™": "æœ¨", "ä¸™": "ç«", "ä¸": "ç«", "æˆŠ": "åœŸ", "å·±": "åœŸ", "åºš": "é‡‘", "è¾›": "é‡‘", "å£¬": "æ°´", "ç™¸": "æ°´" };
        const NAME_ELEMENTS = ["é‡‘", "æœ¨", "æ°´", "ç«", "åœŸ"];
        const NAME_RELATIONSHIPS = {
            "ç›¸ç”Ÿ": { score: 95, text: "ä½ å€‘çš„åå­—äº”è¡Œç›¸ç”Ÿï¼Œç£å ´äº’è£œï¼Œèƒ½äº’ç›¸å¸¶æ—ºé‹å‹¢ï¼Œæ˜¯å¤©ä½œä¹‹åˆã€‚" },
            "ç›¸å‰‹": { score: 60, text: "å§“åäº”è¡Œå­˜åœ¨ç›¸å‰‹ï¼Œç›¸è™•æ™‚å®¹æ˜“æœ‰è§€å¿µæ‘©æ“¦ï¼Œéœ€è¦å¤šåŒ…å®¹å°æ–¹çš„ä¸åŒã€‚" },
            "æ¯”å’Œ": { score: 85, text: "äº”è¡Œç›¸åŒï¼Œæ€§æ ¼ç›¸ä¼¼ï¼Œåƒæœ‹å‹ä¸€æ¨£æœ‰é»˜å¥‘ï¼Œä½†ä¹Ÿå®¹æ˜“ç¼ºä¹äº’è£œçš„æ–°é®®æ„Ÿã€‚" }
        };

        // --- è¼”åŠ©å‡½å¼ (ç•¥ï¼Œä¿æŒä¸è®Š) ---
        const getZodiacObj = (dateString) => {
            const date = new Date(dateString);
            const month = date.getMonth() + 1;
            const day = date.getDate();
            if ((month == 1 && day >= 20) || (month == 2 && day <= 18)) return ZODIAC_SIGNS[1];
            if ((month == 2 && day >= 19) || (month == 3 && day <= 20)) return ZODIAC_SIGNS[2];
            if ((month == 3 && day >= 21) || (month == 4 && day <= 19)) return ZODIAC_SIGNS[3];
            if ((month == 4 && day >= 20) || (month == 5 && day <= 20)) return ZODIAC_SIGNS[4];
            if ((month == 5 && day >= 21) || (month == 6 && day <= 21)) return ZODIAC_SIGNS[5];
            if ((month == 6 && day >= 22) || (month == 7 && day <= 22)) return ZODIAC_SIGNS[6];
            if ((month == 7 && day >= 23) || (month == 8 && day <= 22)) return ZODIAC_SIGNS[7];
            if ((month == 8 && day >= 23) || (month == 9 && day <= 22)) return ZODIAC_SIGNS[8];
            if ((month == 9 && day >= 23) || (month == 10 && day <= 23)) return ZODIAC_SIGNS[9];
            if ((month == 10 && day >= 24) || (month == 11 && day <= 22)) return ZODIAC_SIGNS[10];
            if ((month == 11 && day >= 23) || (month == 12 && day <= 21)) return ZODIAC_SIGNS[11];
            return ZODIAC_SIGNS[0];
        };
        const getBaziYear = (dateString) => {
            const year = new Date(dateString).getFullYear();
            const stemIndex = year % 10;
            const branchIndex = year % 12;
            return { year, stem: HEAVENLY_STEMS[stemIndex], branch: EARTHLY_BRANCHES[branchIndex], animal: ANIMALS[branchIndex], element: FIVE_ELEMENTS[HEAVENLY_STEMS[stemIndex]] };
        };
        const calculateLifePath = (dateString) => {
            if (!dateString) return null;
            const digits = dateString.replace(/[^0-9]/g, '').split('').map(Number);
            let sum = digits.reduce((a, b) => a + b, 0);
            while (sum > 9) sum = sum.toString().split('').map(Number).reduce((a, b) => a + b, 0);
            return sum;
        };
        const calculateDistance = (lat1, lon1, lat2, lon2) => {
            const R = 6371; const dLat = (lat2 - lat1) * Math.PI / 180; const dLon = (lon2 - lon1) * Math.PI / 180;
            const a = Math.sin(dLat/2) * Math.sin(dLat/2) + Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * Math.sin(dLon/2) * Math.sin(dLon/2);
            const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a)); return (R * c).toFixed(1);
        };
        const getNameElement = (name) => {
            if (!name) return { element: "åœŸ", score: 0 };
            let sum = 0; for (let i = 0; i < name.length; i++) sum += name.charCodeAt(i);
            const elementIndex = sum % 5; return { element: NAME_ELEMENTS[elementIndex], val: elementIndex };
        };
        const analyzeNameRelation = (e1, e2) => {
            const cycle = [1, 3, 4, 0, 2]; const idx1 = cycle.indexOf(e1.val); const idx2 = cycle.indexOf(e2.val);
            if (e1.val === e2.val) return { type: "æ¯”å’Œ", ...NAME_RELATIONSHIPS["æ¯”å’Œ"] };
            if ((idx1 + 1) % 5 === idx2 || (idx2 + 1) % 5 === idx1) return { type: "ç›¸ç”Ÿ", ...NAME_RELATIONSHIPS["ç›¸ç”Ÿ"] };
            return { type: "ç›¸å‰‹", ...NAME_RELATIONSHIPS["ç›¸å‰‹"] };
        };
        const getZiWeiMainStar = (dateString, timeString) => {
            if (!dateString) return null;
            const d = new Date(dateString); const year = d.getFullYear(); const month = d.getMonth() + 1; const day = d.getDate(); const hour = timeString ? parseInt(timeString.split(':')[0]) : 12;
            const seed = year + month * 100 + day + hour * 10; const keys = Object.keys(ZIWEI_STARS); const starIndex = seed % keys.length; const starName = keys[starIndex];
            return { name: starName, ...ZIWEI_STARS[starName] };
        };
        const analyzeZiWeiMatch = (s1, s2) => {
            let type = "äº’ç›¸å¸å¼•"; let desc = "å…©é¡†æ˜Ÿçš„ç‰¹è³ªä¸åŒï¼Œå®¹æ˜“ç”¢ç”Ÿå¥½å¥‡å¿ƒã€‚"; let score = 75;
            const leaders = ["ç´«å¾®", "å¤©åºœ", "æ­¦æ›²", "ä¸ƒæ®º", "ç ´è»"]; const supporters = ["å¤©æ©Ÿ", "å¤©åŒ", "å¤ªé™°", "å¤©æ¢", "å¤©ç›¸"];
            if (s1.name === s2.name) { type = "çŸ¥å·±çŸ¥å½¼"; desc = "ä¸»æ˜Ÿç›¸åŒï¼Œæ€§æ ¼ç›¸ä¼¼ï¼Œéå¸¸äº†è§£å°æ–¹åœ¨æƒ³ä»€éº¼ï¼Œä½†ä¹Ÿå®¹æ˜“ç¡¬ç¢°ç¡¬ã€‚"; score = 85; }
            else if (leaders.includes(s1.name) && supporters.includes(s2.name)) { type = "äº’è£œçµ•é…"; desc = "ä¸€å‰›ä¸€æŸ”ï¼Œé ˜å°è€…é‡åˆ°è¼”ä½è€…ï¼Œèƒ½å¤ å„å¸å…¶è·ï¼Œç›¸è™•éå¸¸å’Œè«§ã€‚"; score = 95; }
            else if (supporters.includes(s1.name) && leaders.includes(s2.name)) { type = "äº’è£œçµ•é…"; desc = "ä¸€æŸ”ä¸€å‰›ï¼Œæ‚¨èƒ½åŒ…å®¹å°æ–¹çš„å¼·å‹¢ï¼Œå°æ–¹èƒ½çµ¦æ‚¨å®‰å…¨æ„Ÿã€‚"; score = 95; }
            else if (leaders.includes(s1.name) && leaders.includes(s2.name)) { type = "ç‹è¦‹ç‹"; desc = "é›™æ–¹å€‹æ€§éƒ½å¾ˆå¼·å‹¢ï¼Œå®¹æ˜“çˆ­å¥ªä¸»å°æ¬Šï¼Œéœ€è¦å¤šæºé€šå”èª¿ã€‚"; score = 65; }
            else if (supporters.includes(s1.name) && supporters.includes(s2.name)) { type = "ç›¸æ•¬å¦‚è³“"; desc = "é›™æ–¹éƒ½æ¯”è¼ƒè¢«å‹•æˆ–æº«å’Œï¼Œæ„Ÿæƒ…ç´°æ°´é•·æµï¼Œä½†å¯èƒ½ç¼ºä¹ä¸€é»æ¿€æƒ…ã€‚"; score = 80; }
            else { type = "æ­¡å–œå†¤å®¶"; desc = "æ€§æ ¼å·®ç•°å¤§ï¼Œæ™‚è€Œç”œèœœæ™‚è€Œçˆ­åµï¼Œç›¸è™•å……æ»¿æ¨‚è¶£èˆ‡æŒ‘æˆ°ã€‚"; score = 70;
            }
            return { type, desc, score };
        };

        // --- ä¸»è¦æ‡‰ç”¨ç¨‹å¼ ---
        const App = () => {
            const [activeTab, setActiveTab] = useState('temple');
            const [userName, setUserName] = useState('');
            const [partnerName, setPartnerName] = useState('');
            const [birthDate, setBirthDate] = useState('');
            const [birthTime, setBirthTime] = useState('');
            const [partnerDate, setPartnerDate] = useState('');
            const [partnerTime, setPartnerTime] = useState('');
            const [lifePathNum, setLifePathNum] = useState(null);
            
            const [stickFortune, setStickFortune] = useState(null);
            const [isShaking, setIsShaking] = useState(false);
            const [tarotCard, setTarotCard] = useState(null);
            const [isFlipping, setIsFlipping] = useState(false);
            
            const [nearestTemple, setNearestTemple] = useState(null);
            const [isLoadingLocation, setIsLoadingLocation] = useState(false);
            const [locationError, setLocationError] = useState(null);
            const [fullAnalysis, setFullAnalysis] = useState(null);
            const [ziweiStar, setZiweiStar] = useState(null);

            useEffect(() => {
                if (birthDate) {
                    setLifePathNum(calculateLifePath(birthDate));
                    setZiweiStar(getZiWeiMainStar(birthDate, birthTime));
                }
            }, [birthDate, birthTime]);

            const handleStickDraw = () => { if(isShaking)return; setIsShaking(true); setStickFortune(null); setTimeout(()=>{setStickFortune(FORTUNE_STICKS[Math.floor(Math.random()*FORTUNE_STICKS.length)]);setIsShaking(false);},800); };
            const handleTarotDraw = () => { if(isFlipping)return; setIsFlipping(true); setTarotCard(null); setTimeout(()=>{setTarotCard(TAROT_CARDS[Math.floor(Math.random()*TAROT_CARDS.length)]);setIsFlipping(false);},600); };
            const findNearest = () => {
                setIsLoadingLocation(true); setLocationError(null);
                if (!navigator.geolocation) { setLocationError("ä¸æ”¯æ´å®šä½"); setIsLoadingLocation(false); return; }
                navigator.geolocation.getCurrentPosition(
                    (pos) => {
                        const { latitude, longitude } = pos.coords;
                        let minInfo = { distance: Infinity, temple: null };
                        TEMPLE_DATA.forEach(cat => cat.temples.forEach(t => {
                            const d = parseFloat(calculateDistance(latitude, longitude, t.lat, t.lng));
                            if (d < minInfo.distance) minInfo = { distance: d, temple: t };
                        }));
                        setNearestTemple(minInfo); setIsLoadingLocation(false);
                    },
                    (err) => { setLocationError("ç„¡æ³•å–å¾—ä½ç½®"); setIsLoadingLocation(false); }
                );
            };
            const analyzeFullMatch = () => {
                if (!birthDate || !partnerDate) return;
                const num1 = calculateLifePath(birthDate); const num2 = calculateLifePath(partnerDate);
                const z1 = getZodiacObj(birthDate); const z2 = getZodiacObj(partnerDate);
                let zodiacScore = 70; let aspect = "ä¸€èˆ¬"; let aspectDesc = "æ€§æ ¼äº’è£œï¼Œéœ€è¦æºé€šã€‚";
                const zIndex1 = ZODIAC_SIGNS.findIndex(z => z.name === z1.name); const zIndex2 = ZODIAC_SIGNS.findIndex(z => z.name === z2.name);
                const diff = Math.abs(zIndex1 - zIndex2); const angle = Math.min(diff, 12 - diff) * 30;
                if (angle === 0) { aspect = "åˆç›¸ (Conjunction)"; aspectDesc = "èƒ½é‡ä¸€è‡´ï¼Œå®¹æ˜“å…±é³´ã€‚"; zodiacScore = 90; }
                else if (angle === 120) { aspect = "æ‹±ç›¸ (Trine)"; aspectDesc = "å¤©é€ åœ°è¨­çš„å’Œè«§çµ„åˆã€‚"; zodiacScore = 95; }
                else if (angle === 60) { aspect = "å…­åˆ†ç›¸ (Sextile)"; aspectDesc = "å…ƒç´ äº’è£œï¼Œäº’ç›¸æ¿€å‹µã€‚"; zodiacScore = 85; }
                else if (angle === 180) { aspect = "è¡ç›¸ (Opposition)"; aspectDesc = "å¼·çƒˆå¸å¼•ä½†æ˜“çˆ­åŸ·ã€‚"; zodiacScore = 80; }
                else if (angle === 90) { aspect = "åˆ‘ç›¸ (Square)"; aspectDesc = "æ€§æ ¼å·®ç•°å¤§ï¼Œéœ€åŠªåŠ›ç£¨åˆã€‚"; zodiacScore = 60; }
                const b1 = getBaziYear(birthDate); const b2 = getBaziYear(partnerDate);
                let baziScore = 75; let baziRelation = "å’Œå¹³"; let baziDesc = "é‹å‹¢å¹³ç©©ã€‚";
                const yearDiff = Math.abs(b1.year - b2.year) % 12;
                if ([4, 8].includes(yearDiff)) { baziRelation = "ä¸‰åˆ (å‰)"; baziDesc = "äº’ç‚ºè²´äººï¼Œç›¸è™•é †åˆ©ã€‚"; baziScore = 95; }
                else if (yearDiff === 6) { baziRelation = "å…­æ²–"; baziDesc = "åƒ¹å€¼è§€å·®ç•°å¤§ã€‚"; baziScore = 55; }
                else if (b1.stem === b2.stem) { baziRelation = "æ¯”è‚©"; baziDesc = "åƒæœ‹å‹ä¸€æ¨£å¹³èµ·å¹³åã€‚"; baziScore = 80; }
                const n1 = getNameElement(userName || "æŸäºº"); const n2 = getNameElement(partnerName || "æŸäºº");
                const nameAnalysis = analyzeNameRelation(n1, n2);
                const zw1 = getZiWeiMainStar(birthDate, birthTime); const zw2 = getZiWeiMainStar(partnerDate, partnerTime);
                const zwAnalysis = analyzeZiWeiMatch(zw1, zw2);
                const finalScore = Math.floor((zodiacScore + baziScore + nameAnalysis.score + zwAnalysis.score) / 4);
                setFullAnalysis({ score: finalScore, names: { u1: userName || "æ‚¨", u2: partnerName || "å°æ–¹", n1, n2, analysis: nameAnalysis }, numerology: { n1: num1, n2: num2, sum: num1 + num2 }, zodiac: { p1: z1, p2: z2, aspect, desc: aspectDesc }, bazi: { p1: b1, p2: b2, relation: baziRelation, desc: baziDesc }, ziwei: { p1: zw1, p2: zw2, analysis: zwAnalysis } });
            };

            return (
                <div className="flex justify-center items-start pt-8 pb-20 px-4">
                    <div className="max-w-md w-full bg-white rounded-2xl shadow-2xl overflow-hidden border-4 border-red-800">
                        
                        {/* é ‚éƒ¨å€åŸŸ */}
                        <div className="bg-red-800 p-6 text-center relative overflow-hidden">
                            <div className="absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"></div>
                            <h1 className="text-2xl font-bold text-yellow-100 mb-1 tracking-wider">å…¨æ–¹ä½æˆ€æ„›é‹å‹¢</h1>
                            <div className="text-red-200 text-xs mb-4">æœˆè€ x å¡”ç¾… x éˆæ•¸ x å…«å­—ç´«å¾®</div>
                            <div className="bg-white/10 backdrop-blur-sm rounded-lg p-3 border border-red-400/30 text-left space-y-2 relative">
                                <div><label className="block text-red-100 text-xs mb-1">æ‚¨çš„å§“åï¼š</label><input type="text" value={userName} onChange={(e) => setUserName(e.target.value)} placeholder="è¼¸å…¥å§“å" className="w-full bg-white/90 text-gray-800 rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-yellow-400" /></div>
                                <div><label className="block text-red-100 text-xs mb-1">å‡ºç”Ÿæ—¥æœŸèˆ‡æ™‚é–“ï¼š</label><div className="flex items-center gap-2"><input type="date" value={birthDate} onChange={(e) => setBirthDate(e.target.value)} className="w-full bg-white/90 text-gray-800 rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-yellow-400 flex-grow" /><input type="time" value={birthTime} onChange={(e) => setBirthTime(e.target.value)} className="w-24 bg-white/90 text-gray-800 rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-yellow-400" />{lifePathNum && (<span className="bg-yellow-400 text-red-900 font-bold w-8 h-8 flex items-center justify-center rounded-full shrink-0 shadow-lg animate-bounce text-sm">{lifePathNum}</span>)}</div></div>
                            </div>
                            <div className="mt-4 mx-2"><StickyNote>è«‹å¡«å¯«æº–ç¢ºçš„ã€Œè¥¿å…ƒç”Ÿæ—¥ã€èˆ‡ã€Œå‡ºç”Ÿæ™‚é–“ã€ï¼Œé€™æœƒå½±éŸ¿åˆ°<b>ç´«å¾®ä¸»æ˜Ÿ</b>èˆ‡<b>ç”Ÿå‘½éˆæ•¸</b>çš„æº–ç¢ºåº¦å–”ï¼è‹¥ä¸çŸ¥é“æ™‚é–“ï¼Œç³»çµ±é è¨­ç‚ºåˆæ™‚ã€‚</StickyNote></div>
                        </div>

                        {/* Tab é¸å–® */}
                        <div className="flex border-b border-gray-200 bg-white sticky top-0 z-10">
                            <button onClick={() => setActiveTab('temple')} className={`flex-1 py-3 flex justify-center items-center ${activeTab === 'temple' ? 'text-red-700 border-b-2 border-red-700 bg-red-50' : 'text-gray-400'}`}><Icons.MapPin /></button>
                            <button onClick={() => setActiveTab('fortune')} className={`flex-1 py-3 flex justify-center items-center ${activeTab === 'fortune' ? 'text-purple-700 border-b-2 border-purple-700 bg-purple-50' : 'text-gray-400'}`}><Icons.Cards /></button>
                            <button onClick={() => setActiveTab('ziwei')} className={`flex-1 py-3 flex justify-center items-center ${activeTab === 'ziwei' ? 'text-indigo-700 border-b-2 border-indigo-700 bg-indigo-50' : 'text-gray-400'}`}><Icons.Hexagon /></button>
                            <button onClick={() => setActiveTab('match')} className={`flex-1 py-3 flex justify-center items-center ${activeTab === 'match' ? 'text-pink-600 border-b-2 border-pink-600 bg-pink-50' : 'text-gray-400'}`}><Icons.Users /></button>
                        </div>

                        <div className="bg-[url('https://www.transparenttextures.com/patterns/cream-paper.png')] min-h-[400px] relative">
                            
                            {/* Tab 1: æœˆè€ */}
                            {activeTab === 'temple' && (
                                <div className="p-4 space-y-4 animate-fade-in relative">
                                    {/* æ’åœ–ï¼šçµ•å°å®šä½åœ¨å…§å®¹å€å¡Šå…§ */}
                                    <div className="absolute top-2 right-2 w-32 h-32 opacity-100 z-50 pointer-events-none"><Icons.TempleIllustration /></div>
                                    <div className="bg-white rounded-xl shadow-md p-4 border-2 border-yellow-400 relative overflow-hidden z-10">
                                        <div className="relative z-10 text-center">
                                            <h2 className="text-yellow-700 font-bold mb-3 flex items-center justify-center gap-2"><Icons.Locate /> å°‹æ‰¾èº«é‚Šçš„ç·£åˆ†</h2>
                                            {!nearestTemple ? (<button onClick={findNearest} disabled={isLoadingLocation} className={`w-full py-2 rounded-full font-bold text-white shadow-md transition-all ${isLoadingLocation?'bg-gray-400':'bg-yellow-500 hover:bg-yellow-600'}`}>{isLoadingLocation?'å®šä½ä¸­...':'æœå°‹æœ€è¿‘æœˆè€'}</button>) : (<div className="animate-fade-in text-left bg-yellow-50 p-3 rounded-lg border border-yellow-200"><div className="flex justify-between items-start mb-2"><div><div className="text-xs text-yellow-600 font-bold">æœ€è¿‘çš„æ•‘æ˜Ÿï¼š</div><div className="text-xl font-bold text-gray-800">{nearestTemple.temple.name}</div></div><div className="text-right"><span className="block text-2xl font-bold text-red-600">{nearestTemple.distance}</span><span className="text-xs text-gray-500">å…¬é‡Œ</span></div></div><a href={`https://www.google.com/maps/dir/?api=1&destination=${nearestTemple.temple.lat},${nearestTemple.temple.lng}`} target="_blank" className="block w-full text-center bg-blue-600 text-white text-sm py-2 rounded hover:bg-blue-700 flex items-center justify-center gap-1"><Icons.Navigation /> é–‹å•Ÿå°èˆª</a></div>)}
                                        </div>
                                    </div>
                                    {TEMPLE_DATA.map((cat) => (<div key={cat.id} className={`rounded-xl border ${cat.borderColor} bg-white shadow-sm z-10 relative`}><div className={`${cat.color} p-3 flex items-center justify-between border-b ${cat.borderColor}`}><div className="flex items-center space-x-2"><div className="bg-white p-1.5 rounded-full shadow-sm">{cat.icon}</div><div><h3 className="font-bold text-gray-800 text-sm">{cat.title}</h3><p className="text-[10px] text-gray-500">{cat.subtitle}</p></div></div></div><div className="p-2 grid gap-1">{cat.temples.map((t,i)=><div key={i} className="flex justify-between items-center px-2 py-1.5 hover:bg-gray-50 rounded"><span className="text-sm font-medium">{t.name}</span><div className="flex flex-col items-end"><span className="text-[10px] bg-white border border-gray-200 px-1.5 py-0.5 rounded text-gray-500">{t.tag}</span></div></div>)}</div></div>))}
                                </div>
                            )}

                            {/* Tab 2: é‹å‹¢ */}
                            {activeTab === 'fortune' && (
                                <div className="p-4 space-y-8 animate-fade-in relative">
                                    <div className="absolute top-10 right-2 w-40 h-40 opacity-100 z-50 pointer-events-none"><Icons.FortuneIllustration /></div>
                                    <StickyNote className="mb-0 bg-pink-50 border-pink-100 z-10"><b>æ¯æ—¥ä¸€æŠ½ï¼š</b>å¿ƒèª å‰‡éˆï¼Œå»ºè­°æ¯å¤©æ—©ä¸Šå‡ºé–€å‰æŠ½ä¸€æ”¯éˆç±¤ï¼Œæˆ–æ˜¯å¿ƒæƒ…è¿·æƒ˜æ™‚é€éå¡”ç¾…ç‰Œå°‹æ‰¾ç•¶ä¸‹çš„æ½›æ„è­˜æŒ‡å¼•ã€‚</StickyNote>
                                    <div className="bg-white rounded-xl shadow-md p-4 border border-red-100 relative z-10"><h2 className="text-center font-bold text-red-800 mb-3 flex items-center justify-center gap-2"><Icons.Scroll /> æ¯æ—¥æˆ€æ„›éˆç±¤</h2>{!stickFortune ? (<button onClick={handleStickDraw} disabled={isShaking} className={`w-full ${isShaking?'bg-red-400 shake-animation':'bg-gradient-to-r from-red-600 to-red-500'} text-white py-3 rounded-lg font-bold shadow-lg`}>{isShaking?'èª å¿ƒç¥ˆæ±‚ä¸­...':'æ–ä¸€æ–æ±‚ç±¤'}</button>) : (<div className={`text-center p-4 rounded-lg border-2 border-dashed ${stickFortune.bg.replace('bg-', 'border-')} ${stickFortune.bg}`}><div className={`text-2xl font-bold mb-1 ${stickFortune.color}`}>{stickFortune.label}</div><div className="text-lg font-bold text-gray-800 mb-2">{stickFortune.title}</div><p className="text-sm text-gray-600">{stickFortune.text}</p><button onClick={()=>setStickFortune(null)} className="mt-3 text-xs text-gray-400 underline">é‡æŠ½</button></div>)}</div>
                                    <div className="bg-white rounded-xl shadow-md p-4 border border-purple-100 relative z-10"><h2 className="text-center font-bold text-purple-800 mb-3 flex items-center justify-center gap-2"><Icons.Sparkles /> ä»Šæ—¥å¡”ç¾…æŒ‡å¼•</h2>{!tarotCard ? (<div onClick={handleTarotDraw} className="cursor-pointer group perspective-1000 w-32 h-48 mx-auto relative"><div className={`w-full h-full bg-purple-600 rounded-lg shadow-xl border-4 border-white flex items-center justify-center text-white text-4xl transition-transform duration-500 ${isFlipping?'rotate-y-180':''}`}>ğŸ”®</div><p className="text-center text-xs text-gray-400 mt-2">é»æ“Šå¡èƒŒæŠ½ç‰Œ</p></div>) : (<div className="text-center animate-fade-in"><div className="w-20 h-28 bg-white border-2 border-purple-200 rounded mx-auto mb-2 flex items-center justify-center text-4xl shadow-sm">{tarotCard.image}</div><h3 className="font-bold text-lg text-gray-800">{tarotCard.name}</h3><p className="text-sm text-gray-600 mt-2 bg-purple-50 p-2 rounded">{tarotCard.advice}</p><button onClick={()=>setTarotCard(null)} className="mt-2 text-xs text-gray-400 underline">é‡æŠ½</button></div>)}</div>
                                </div>
                            )}

                            {/* Tab 3: ç´«å¾® */}
                            {activeTab === 'ziwei' && (
                                <div className="p-6 animate-fade-in relative">
                                    <div className="absolute top-2 right-2 w-32 h-32 opacity-100 z-50 pointer-events-none"><Icons.ZiweiIllustration /></div>
                                    {!ziweiStar ? (<div className="text-center py-10 relative z-10"><div className="text-6xl mb-4 text-indigo-300"><Icons.Hexagon /></div><h3 className="text-lg font-bold text-gray-700 mb-2">è«‹å…ˆè¼¸å…¥ç”Ÿæ—¥</h3><p className="text-sm text-gray-500">è¼¸å…¥ç”Ÿæ—¥èˆ‡æ™‚é–“ï¼Œè§£ææ‚¨çš„ã€Œç´«å¾®å‘½å®®ä¸»æ˜Ÿã€ã€‚</p></div>) : (<><StickyNote className="mb-6 bg-indigo-50 border-indigo-100 z-10 relative"><b>å‘½å®®ä¸»æ˜Ÿ</b>ä»£è¡¨æ‚¨æ€§æ ¼ä¸­æœ€å¼·çƒˆçš„ç‰¹è³ªã€‚äº†è§£è‡ªå·±ï¼Œæ˜¯è«‡å¥½æˆ€æ„›çš„ç¬¬ä¸€æ­¥ã€‚é€™ä¹Ÿæ˜¯åˆ¥äººåœ¨æ„Ÿæƒ…ä¸­çœ‹åˆ°çš„æ‚¨å–”ï¼</StickyNote><div className="bg-white rounded-xl shadow-lg border-t-4 border-indigo-500 overflow-hidden relative z-10"><div className="bg-indigo-50 p-6 text-center border-b border-indigo-100"><div className="text-xs text-indigo-600 font-bold tracking-widest mb-1">YOUR STAR</div><div className="text-4xl font-black text-indigo-700 mb-2 drop-shadow-sm">{ziweiStar.name}æ˜Ÿ</div><div className="inline-block bg-indigo-200 text-indigo-800 px-3 py-1 rounded-full text-xs font-bold">{ziweiStar.type}</div></div><div className="p-6 space-y-4"><div><h3 className="text-sm font-bold text-gray-400 mb-1 uppercase">Personality</h3><p className="text-gray-800 font-medium">{ziweiStar.character}</p></div><div><h3 className="text-sm font-bold text-gray-400 mb-1 uppercase">Love View</h3><p className="text-gray-600 text-sm leading-relaxed">{ziweiStar.love}</p></div><div className="pt-2 border-t border-gray-100"><p className="text-gray-500 text-xs leading-relaxed text-justify">{ziweiStar.desc}</p></div></div></div></>)}<div className="mt-4 text-center text-[10px] text-gray-400 relative z-10">è¨»ï¼šæ­¤ç‚ºç°¡æ˜“å‘½ç›¤æ¨¡æ“¬ï¼Œç²¾ç¢ºæ’ç›¤è«‹è«®è©¢å°ˆæ¥­å‘½ç†å¸«ã€‚</div>
                                </div>
                            )}
                            
                            {/* Tab 4: åˆç›¤ */}
                            {activeTab === 'match' && (
                                <div className="p-4 animate-fade-in space-y-4 relative">
                                    <div className="absolute top-2 right-2 w-32 h-32 opacity-100 z-50 pointer-events-none"><Icons.MatchIllustration /></div>
                                    <StickyNote className="mb-2 bg-red-50 border-red-100 z-10">é€™æ˜¯ä¸€å€‹<b>è¶…ç¶œåˆåˆ†æ</b>ï¼æˆ‘å€‘åŒæ™‚é‹ç®—äº†è¥¿æ–¹æ˜Ÿåº§ç›¸ä½ã€æ±æ–¹å…«å­—ç”Ÿè‚–ã€ç´«å¾®ä¸»æ˜Ÿäº’å‹•ä»¥åŠå§“åäº”è¡Œã€‚åˆ†æ•¸åƒ…ä¾›åƒè€ƒï¼Œç›¸è™•é‚„æ˜¯è¦é ç¶“ç‡Ÿå–” â¤ï¸</StickyNote>
                                    <h2 className="text-center font-bold text-pink-600 mb-2 flex items-center justify-center gap-2 relative z-10"><Icons.Users /> æ·±åº¦åˆç›¤åˆ†æ</h2>
                                    {!birthDate ? (<div className="text-center py-6 text-gray-500 text-sm bg-white rounded-lg border border-dashed border-gray-300 relative z-10">è«‹å…ˆåœ¨ä¸Šæ–¹ç´…è‰²å€å¡Šå®Œæˆæ‚¨çš„è³‡æ–™</div>) : (<><div className="bg-white p-4 rounded-xl shadow-sm border border-pink-100 space-y-3 relative z-10"><div><label className="block text-gray-600 text-xs font-bold mb-1">å°æ–¹çš„å§“åï¼š</label><input type="text" value={partnerName} onChange={(e) => setPartnerName(e.target.value)} placeholder="è¼¸å…¥å°æ–¹å§“å" className="w-full bg-gray-50 border border-gray-200 text-gray-800 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-pink-400" /></div><div><label className="block text-gray-600 text-xs font-bold mb-1">å°æ–¹çš„ç”Ÿæ—¥èˆ‡æ™‚é–“ï¼š</label><div className="flex items-center gap-2"><input type="date" value={partnerDate} onChange={(e) => setPartnerDate(e.target.value)} className="w-full bg-gray-50 border border-gray-200 text-gray-800 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-pink-400 flex-grow" /><input type="time" value={partnerTime} onChange={(e) => setPartnerTime(e.target.value)} className="w-24 bg-gray-50 border border-gray-200 text-gray-800 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-pink-400" /></div></div></div><button onClick={analyzeFullMatch} className="w-full bg-gradient-to-r from-pink-500 to-red-400 text-white py-3 rounded-lg font-bold shadow-md hover:shadow-lg transition-all active:scale-95 relative z-10">é–‹å§‹ç¶œåˆå‘½ç†åˆ†æ</button>{fullAnalysis && (<div className="space-y-4 mt-4 animate-fade-in relative z-10"><div className="bg-white rounded-xl shadow-lg overflow-hidden relative"><div className="bg-gradient-to-r from-pink-500 to-rose-500 text-white p-4 text-center"><div className="text-xs font-bold opacity-80 mb-1">ç¶œåˆå¥‘åˆåº¦æŒ‡æ•¸</div><div className="text-5xl font-black">{fullAnalysis.score}%</div><div className="text-sm mt-1">{fullAnalysis.score >= 90 ? "å¤©ä½œä¹‹åˆ ğŸ’–" : fullAnalysis.score >= 80 ? "éå¸¸ç™»å° âœ¨" : fullAnalysis.score >= 60 ? "éœ€è¦ç£¨åˆ ğŸ¤" : "æŒ‘æˆ°è¼ƒå¤§ ğŸ”¥"}</div></div></div><div className="bg-white rounded-xl shadow-sm border border-indigo-100 overflow-hidden"><div className="bg-indigo-50 px-4 py-2 border-b border-indigo-100 flex items-center gap-2"><Icons.Hexagon className="text-indigo-600"/> <span className="text-sm font-bold text-indigo-800">ç´«å¾®æ–—æ•¸åˆç›¤</span></div><div className="p-4"><div className="flex justify-between items-center mb-3 text-center"><div><div className="text-lg font-bold text-indigo-700">{fullAnalysis.ziwei.p1.name}</div><span className="text-[10px] px-2 py-0.5 bg-gray-100 rounded-full">{fullAnalysis.ziwei.p1.type}</span></div><div className="text-xs text-gray-400 font-bold">VS</div><div><div className="text-lg font-bold text-indigo-700">{fullAnalysis.ziwei.p2.name}</div><span className="text-[10px] px-2 py-0.5 bg-gray-100 rounded-full">{fullAnalysis.ziwei.p2.type}</span></div></div><div className="bg-indigo-50 rounded p-3 text-sm text-gray-700 border-l-4 border-indigo-400"><div className="font-bold text-indigo-900 mb-1">{fullAnalysis.ziwei.analysis.type}</div>{fullAnalysis.ziwei.analysis.desc}</div></div></div><div className="bg-white rounded-xl shadow-sm border border-emerald-100 overflow-hidden"><div className="bg-emerald-50 px-4 py-2 border-b border-emerald-100 flex items-center gap-2"><Icons.Feather className="text-emerald-600"/> <span className="text-sm font-bold text-emerald-800">å§“åäº”è¡Œå…±é³´</span></div><div className="p-4"><div className="flex justify-between items-center mb-3 text-center"><div><div className="text-xs text-gray-500">äº”è¡Œå±¬{fullAnalysis.names.n1.element}</div><div className="text-lg font-bold text-emerald-700">{fullAnalysis.names.u1}</div></div><div className="text-sm font-bold text-gray-400 mx-2">vs</div><div><div className="text-xs text-gray-500">äº”è¡Œå±¬{fullAnalysis.names.n2.element}</div><div className="text-lg font-bold text-emerald-700">{fullAnalysis.names.u2}</div></div></div><div className="bg-emerald-50 rounded p-3 text-sm text-gray-700 border-l-4 border-emerald-400"><div className="font-bold text-emerald-900 mb-1">é—œä¿‚ï¼š{fullAnalysis.names.analysis.type}</div>{fullAnalysis.names.analysis.text}</div></div></div><div className="bg-white rounded-xl shadow-sm border border-purple-100 overflow-hidden"><div className="bg-purple-50 px-4 py-2 border-b border-purple-100 flex items-center gap-2"><Icons.Moon className="text-purple-600"/> <span className="text-sm font-bold text-purple-800">è¥¿æ´‹æ˜Ÿåº§ç›¸ä½</span></div><div className="p-4"><div className="flex justify-between items-center mb-3 text-center"><div><div className="text-lg font-bold text-purple-700">{fullAnalysis.zodiac.p1.name}</div><span className="text-[10px] px-2 py-0.5 bg-gray-100 rounded-full">{fullAnalysis.zodiac.p1.element}è±¡</span></div><div className="text-xs text-gray-400 font-bold">VS</div><div><div className="text-lg font-bold text-purple-700">{fullAnalysis.zodiac.p2.name}</div><span className="text-[10px] px-2 py-0.5 bg-gray-100 rounded-full">{fullAnalysis.zodiac.p2.element}è±¡</span></div></div><div className="bg-purple-50 rounded p-3 text-sm text-gray-700 border-l-4 border-purple-400"><div className="font-bold text-purple-900 mb-1">{fullAnalysis.zodiac.aspect}</div>{fullAnalysis.zodiac.desc}</div></div></div><div className="bg-white rounded-xl shadow-sm border border-amber-100 overflow-hidden"><div className="bg-amber-50 px-4 py-2 border-b border-amber-100 flex items-center gap-2"><Icons.YinYang className="text-amber-600"/> <span className="text-sm font-bold text-amber-800">å…«å­—ç”Ÿè‚–åˆç›¤</span></div><div className="p-4"><div className="flex justify-between items-center mb-3 text-center"><div><div className="text-lg font-bold text-amber-800">{fullAnalysis.bazi.p1.year}</div><div className="text-sm text-gray-600">{fullAnalysis.bazi.p1.element}å‘½ Â· {fullAnalysis.bazi.p1.animal}</div></div><div><div className="text-lg font-bold text-amber-800">{fullAnalysis.bazi.p2.year}</div><div className="text-sm text-gray-600">{fullAnalysis.bazi.p2.element}å‘½ Â· {fullAnalysis.bazi.p2.animal}</div></div></div><div className="bg-amber-50 rounded p-3 text-sm text-gray-700 border-l-4 border-amber-400"><div className="font-bold text-amber-900 mb-1">é—œä¿‚ï¼š{fullAnalysis.bazi.relation}</div>{fullAnalysis.bazi.desc}</div></div></div></div>)}</>)}
                                </div>
                            )}

                        </div>
                        <div className="h-2 bg-yellow-500"></div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>